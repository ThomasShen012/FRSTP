<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Update User</title>
</head>
<body>
    <h1>Update User Information</h1>
    <form method="post" action="/save_user_changes" name="update_user_form">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required>
        <br>
        <label for="email">Email:</label>
        <input type="text" id="email" name="email" required>
        <br>
        <input type="submit" value="Save Changes">
    </form>

    <div class="card" style="background-color: azure;">
        <h2 class="center">your info</h2>

        <p>
            <strong>ID:</strong> <span id="user-_id"></span><br>
            <strong>NAME:</strong> <span id="user-name"></span><br>
            <strong>EMAIL:</strong> <span id="user-email"></span>
        </p>
    </div>

    <script>
        // 解析JSON數據並顯示在網頁上
        var userInfoStr = '{{ session["user"] | safe }}'; // 使用 safe 過濾器以避免意外的 JavaScript 轉義
        var userInfo = JSON.parse(userInfoStr);

        // 在HTML中顯示JSON數據
        document.getElementById("user-_id").innerText = userInfo._id.$oid;
        document.getElementById("user-name").innerText = userInfo.name;
        document.getElementById("user-email").innerText = userInfo.email;
    </script>
</body>
</html>
